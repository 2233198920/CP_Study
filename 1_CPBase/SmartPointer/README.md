# 智能指针说明文档

本文档主要介绍 C++ 中的三种智能指针及其相关方法，帮助理解代码中各个指针的特性和作用。

## unique_ptr
- **作用**：拥有独占的资源所有权，同一时间只有一个 unique_ptr 拥有对象。
- **特点**：
  - 不允许拷贝，只能通过 `std::move()` 转移所有权。
  - 离开作用域时自动析构，释放管理的对象。
- **常用方法**：
  - `std::make_unique<T>(...)`：创建并返回 T 类型对象的 unique_ptr 实例。

## shared_ptr
- **作用**：允许多个指针共享同一对象，通过引用计数管理对象生命周期。
- **特点**：
  - 可以进行拷贝，每个拷贝会增加引用计数。
  - 对象在最后一个 shared_ptr 销毁时析构。
- **常用方法**：
  - `std::make_shared<T>(...)`：创建并返回对象的 shared_ptr 实例。
  - `use_count()`：返回当前管理对象的引用计数。

## weak_ptr
- **作用**：提供对 shared_ptr 管理对象的非拥有性引用，不增加引用计数。
- **特点**：
  - 用于检测对象是否仍然存在，常用于避免循环引用问题。
  - 不能直接访问对象，需通过 `lock()` 转换为 shared_ptr 后才能使用。
- **常用方法**：
  - `lock()`：尝试获取一个 shared_ptr，如果对象存在则返回有效、否则返回空指针。
  - `expired()`：检查 weak_ptr 指向的对象是否已被销毁。

## 示例代码标识
代码中分别通过不同示例展示了：
- unique_ptr 的独占所有权和所有权转移；
- shared_ptr 的引用计数机制与共享所有权；
- weak_ptr 的观察作用以及如何避免循环引用问题。

```cpp
// ...existing code...
```

以上就是三个智能指针及其相关方法的基本作用和使用场景说明。
